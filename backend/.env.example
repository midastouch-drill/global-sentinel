
# =================================================================
# ğŸ”¥ FIREBASE ADMIN SDK CONFIGURATION
# =================================================================
# Get these from Firebase Console > Project Settings > Service Accounts > Generate new private key

# Firebase Project ID (find in Firebase Console > Project Settings)
FIREBASE_PROJECT_ID=global-sentinel-aa33c

# Firebase Service Account Email (from the downloaded JSON file)
# Format: firebase-adminsdk-xxxxx@your-project-id.iam.gserviceaccount.com
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@global-sentinel-aa33c.iam.gserviceaccount.com

# Firebase Private Key - CRITICAL FORMATTING RULES:
# 1. Wrap the ENTIRE key in double quotes
# 2. Include the -----BEGIN PRIVATE KEY----- and -----END PRIVATE KEY----- lines
# 3. Replace actual newlines with \n
# 4. Copy from the "private_key" field in your downloaded service account JSON
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC...\nYOUR_ACTUAL_PRIVATE_KEY_CONTENT_HERE\n...rest of key...\n-----END PRIVATE KEY-----\n"

# =================================================================
# ğŸ¤– AI API CONFIGURATION
# =================================================================

# OpenRouter API Key (for AI threat detection)
# Get from: https://openrouter.ai/keys
OPENROUTER_API_KEY=sk-or-v1-your-api-key-here

# Gemini API Key (optional backup for AI features)
# Get from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key-here

# =================================================================
# ğŸŒ SERVER CONFIGURATION
# =================================================================

# Server port
PORT=5000

# Environment (development, staging, production)
NODE_ENV=development

# Frontend URL (for CORS configuration)
FRONTEND_URL=http://localhost:5173

# =================================================================
# ğŸ“‹ SETUP CHECKLIST
# =================================================================
# 
# âœ… 1. Create Firebase project at https://console.firebase.google.com
# âœ… 2. Enable Firestore Database
# âœ… 3. Go to Project Settings > Service Accounts
# âœ… 4. Click "Generate new private key"
# âœ… 5. Download the JSON file
# âœ… 6. Copy project_id to FIREBASE_PROJECT_ID
# âœ… 7. Copy client_email to FIREBASE_CLIENT_EMAIL  
# âœ… 8. Copy private_key to FIREBASE_PRIVATE_KEY (with proper formatting)
# âœ… 9. Test connection with: npm run test-firebase
#
# =================================================================
# âš ï¸  SECURITY NOTES
# =================================================================
#
# ğŸ”’ NEVER commit the actual .env file to version control
# ğŸ”’ The private key must include proper newline characters (\n)
# ğŸ”’ Keep the private key wrapped in double quotes
# ğŸ”’ Ensure project_id matches your Firebase project exactly
# ğŸ”’ Client email should end with your-project-id.iam.gserviceaccount.com
# ğŸ”’ Rotate keys regularly in production
# ğŸ”’ Use different Firebase projects for dev/staging/production
#
# =================================================================
# ğŸ”§ TROUBLESHOOTING
# =================================================================
#
# âŒ "Service account object must contain a string 'project_id' property"
#    â†’ Check FIREBASE_PROJECT_ID is set and matches your Firebase project
#
# âŒ "Failed to parse private key"
#    â†’ Ensure FIREBASE_PRIVATE_KEY has proper quotes and \n characters
#
# âŒ "Invalid service account"
#    â†’ Verify FIREBASE_CLIENT_EMAIL matches the downloaded JSON
#
# âŒ "Permission denied"
#    â†’ Check Firestore security rules and service account permissions
#
# ğŸ” Test your config with: GET http://localhost:5000/health/firebase
#
